# Procedure (test, vaccination) data sources
integer file Low procedure_results;
integer file Low procedure_types;
integer file Low procedure_dates;
integer file High patient_ids;

# Procedure data itself
integer High admin_procedure_result;
integer High admin_procedure_type;
integer High admin_procedure_date;
integer High admin_patient_id;

# Patients data
integer file Low patient_input;
integer Low procedure_result
integer Low procedure_type
integer High procedure_date;
integer High patient_id;

# Patient enters their ID for the system
input patient_id from patient_input;

# Read from DB
input admin_procedure_result from procedure_results;
input admin_procedure_type from procedure_types;
input admin_procedure_date from procedure_dates;
input admin_patient_id from patient_ids;

# Find the user and save their procedure result
while patient_id do
    if patient_id == admin_patient_id and procedure_date == admin_procedure_date then
        procedure_result := admin_procedure_result
        procedure_type := admin_procedure_type

    # Read from DB
    input admin_procedure_result from procedure_results;
    input admin_procedure_type from procedure_types;
    input admin_procedure_date from procedure_dates;
    input admin_patient_id from patient_ids;
