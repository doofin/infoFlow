# Procedure (test, vaccination) data sources
integer file everybody procedure_results;
integer file everybody procedure_types;
integer file everybody procedure_dates;
integer file admin patient_ids;

# Procedure data itself
integer everybody admin_procedure_result;
integer everybody admin_procedure_type;
integer everybody admin_procedure_date;
integer admin admin_patient_id;

# Patients data
integer file patient patient_input;
integer patient procedure_result
integer patient procedure_type
integer patient procedure_date;
integer patient patient_id;

# Patient enters their ID for the system
input patient_id from patient_input;

# Read from DB
input admin_procedure_result from procedure_results;
input admin_procedure_type from procedure_types;
input admin_procedure_date from procedure_dates;
input admin_patient_id from patient_ids;

# Find the user and save their procedure result
while patient_id do
    if patient_id == admin_patient_id and procedure_date == admin_procedure_date do
        procedure_result := admin_procedure_result
        procedure_type := admin_procedure_type

    # Read from DB
    input admin_procedure_result from procedure_results;
    input admin_procedure_type from procedure_types;
    input admin_procedure_date from procedure_dates;
    input admin_patient_id from patient_ids;
